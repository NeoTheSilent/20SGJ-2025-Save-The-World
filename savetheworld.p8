pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
	timer=0
	frame=30
	clr=6
	
	qtetimer=0
	active=0
	
	player={}
		player.x=60
		player.y=90
		player.m=4
		
	answer={
	 {4,5},
	 {5,2,4},
	 {4,5,3,5},
	 {3,4,2,4,5}
	}
	answerkey={"","â¬†ï¸","â¬‡ï¸","ğŸ…¾ï¸","â"}
end

function _update()
 
--[[timer update]]--
 if timer!=20 and frame!=0 then
	 frame-=1
 end
 if frame==0 and timer!=19 then
  frame=30
  timer+=1
 end
--[[qte timer update]]--
 if true then
  qtetimer+=1
 end
--[[color for timer]]--
	if timer>=10 and timer<15then
	 clr=9
	elseif timer>=15 then
	 if frame<15 then
	  clr=9
	 else
	  clr=8
	 end
	end

 move()
 camera(player.x-60,player.y-60)
 
end

function _draw()
 cls()
 map(0,0)
 debug()
 qte(400,answer[1])
 qte(800,answer[2])
 qte(1200,answer[3])
 qte(1600,answer[4])
 for i=1,25 do
	 rectfill(170-player.x+(200*(i-1)),2,200-player.x+(200*(i-1)),120,5)
	end
 print(19-timer.."."..frame*3,player.x-7,player.y-50,clr) 
 spr(001,player.x,player.y)
end

-->8
--movement

function move()
 if btn(1) then
  player.x+=player.m
 elseif btn(0) then
  player.x-=player.m
 end
end
-->8
--qte

function qte(place,rep)
 if place==player.x then
  qtetimer=0
 elseif place<player.x and rep[#rep]!=0 then
  for i=1,#rep do
   if active<i then
	   sspr(0+((flr(qtetimer/6)*8)*(tonum(active+1==i))),
	   24,8,8,(player.x-4)+(i*16)
	   -(ceil(#rep/2)*16)-(8-(#rep%2)*8),
	   player.y-30,16,16)
	   print(answerkey[rep[i]],(player.x+1)+(i*16)
	   -(ceil(#rep/2)*16)-(8-(#rep%2)*8),
	   player.y-25)
	  end
  end
  --  
	 if btnp(rep[active+1]) then
	  if active!=#rep then
	   active+=1
	   qtetimer=0
	  end
	  if active==#rep then
	   active=0
	   rep[#rep]=0
	  end
  end
 end
end
-->8
--debug

function debug()
 --print("normal timer: "..timer,player.x-60,player.y-60,3)
 --print("q.t.e. timer: "..qtetimer,player.x-60,player.y-52,3)
 print("active "..active,player.x-60,player.y-46,3)
end
__gfx__
00000000444444445666666666666665799aaaa7aa9966a700000000000000005555555555555555555555555555555500000000000000000000000000000000
00000000400000046dddddddddddddd1679999777997666607777777777777705555555555555555555555555555555500000000000000000000000000000000
00700700404004046d166666666661d16666777777777666075555555555557055dddd555dddd75555dddd555dddd75500000000000000000000000000000000
00077000404004046d6dddddddddd5d1666666667777666606577775577775707ddddd7ddddd77777ddddd7ddddd777700000000000000000000000000000000
00077000400000046d6dddddddddd5d15566666666666655065667755777757067ddd767ddd7766667ddd767ddd7766600000000000000000000000000000000
00700700404444046d6dd222222dd5d1d55555555555555d06566665577775706666666666666666666666666666666600000000000000000000000000000000
00000000400000046d6dd2e8782dd5d1dddddddddddddddd06566665567775700060000000000600000000000000000000000000000000000000000000000000
00000000444444446d6dd2e8782dd5d1dddddddddddddddd06566665566775700060000000000600000000000000000000000000000000000000000000000000
00000000000000006d6dd288782dd5d1dddddddddddddddd06566665566665b00060000000000600000000000000000000000000000000000000000000000000
00000000000000006d6dd288872dd5d1dddddddddddddddd06566665566665800666666666666660000000000000000000000000000000000000000000000000
00000000000000006d6dd222222dd5d10ddd0ddd0dd0dddd06566665566665706699999aaaaaaa66000000000000000000000000000000000000000000000000
00000000000000006d6dddddddddd5d1dd0ddd0dd0ddd0dd0d5666655666657006aaaaaaa9999960000000000000000000000000000000000000000000000000
00000000000000006d6dddddddddd5d1000dd00d000dd0d00d566665566665700000000000000000000000000000000000000000000000000000000000000000
00000000000000006d155555555551d100dddd000d00dd0d0d5dd665566665700000000000000000000000000000000000000000000000000000000000000000
00000000000000006dddddddddddddd10000000000d0d00d0d5dddd55dd665700000000000000000000000000000000000000000000000000000000000000000
0000000000000000511111111111111500000000000000000d5dddd55dddd5700000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
22222222022222220222222202222222022222220222222202222222022222220222222202222222022222220222222002222000022000000000000000000000
20000002000000020000000200000002000000020000000200000002000000020000000200000002000000020000000000000000000000000000000000000000
20000002200000020000000200000002000000020000000200000002000000020000000200000002000000000000000000000000000000000000000000000000
20000002200000020000000200000002000000020000000200000002000000020000000200000002000000000000000000000000000000000000000000000000
20000002200000022000000200000002000000020000000200000002000000020000000200000000000000000000000000000000000000000000000000000000
20000002200000022000000200000002000000020000000200000002000000020000000200000000000000000000000000000000000000000000000000000000
20000002200000022000000220000002000000020000000200000002000000020000000000000000000000000000000000000000000000000000000000000000
22222222222222222222222222222222022222220002222200000222000000020000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08090a0b08090a0b08090a0b08090a0b08090a0b08090a0b08090a0b08090a0b08090a0b08090a0b08090a0b08090a0b08090a0b08090a0b08090a0b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b18191a1b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0607000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1617000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0405040504050405040504050405040504050405040500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1415141514151415141514151415141514151415141500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
