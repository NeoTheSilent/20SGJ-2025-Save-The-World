pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
	timer=0
	frame=30
	clr=6
	
	qtetimer=0
	active=0
	
	player={}
		player.x=60
		player.y=90
		player.m=4
		
	answer={
	 {1,1},
	 {2,2,2},
	 {3,3,3,3}
	}
end

function _update()
 
--[[timer update]]--
 if timer!=20 and frame!=0 then
	 frame-=1
 end
 if frame==0 and timer!=19 then
  frame=30
  timer+=1
 end
--[[qte timer update]]--
 if true then
  qtetimer+=1
 end
--[[color for timer]]--
	if timer>=10 and timer<15then
	 clr=9
	elseif timer>=15 then
	 if frame<15 then
	  clr=9
	 else
	  clr=8
	 end
	end

 move()
 camera(player.x-60,player.y-60)
 
end

function _draw()
 cls()
 map(0,0)
 debug()
 qte(400,answer[1])
 --qte(800,answer[2])
 --qte(1200,answer[3])
 rectfill(190-player.x,2,200-player.x,50)
 print(19-timer.."."..frame*3,player.x-7,player.y-30,clr) 
 spr(001,player.x,player.y)
end
-->8
--movement

function move()
 if btn(1) then
  player.x+=player.m
 elseif btn(0) then
  player.x-=player.m
 end
end
-->8
--qte

function qte(place,rep)

 if place>player.x then
  for i=1,#rep do
   sspr(0+((flr(qtetimer/8)*8)*(tonum(active==i))),
   24,8,8,(player.x-4)+(i*16)
   -(ceil(#rep/2)*16)-(8-(#rep%2)*8),
   player.y,16,16)
  end
 end
 
 if btnp(4) and active!=#rep then
  active+=1
  qtetimer=0
 end
end
-->8
--debug

function debug()
 print("normal timer: "..timer,player.x-60,player.y-60,3)
 print("q.t.e. timer: "..qtetimer,player.x-60,player.y-52,3)
 print("sqte: "..(flr(qtetimer/4)*8),player.x-60,player.y-46,3)
end
__gfx__
00000000444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000400000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700404004045555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000404004045555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000400000045555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700404444047d66dd777dddd777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000004000000466dd667666666677000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000444444447d777d7d766d7777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000066666667777666dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000d666777766ddd666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000dd66666666666677000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000d77dd66ddd666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000d66666666677dd66000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006dd666677776d666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000067d77dddddd66d77000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007666677766667d76000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
22222222022222220222222202222222022222220222222202222222022222220222222202222222022222220222222002222000022000000000000000000000
20000002000000020000000200000002000000020000000200000002000000020000000200000002000000020000000000000000000000000000000000000000
20000002200000020000000200000002000000020000000200000002000000020000000200000002000000000000000000000000000000000000000000000000
20000002200000020000000200000002000000020000000200000002000000020000000200000002000000000000000000000000000000000000000000000000
20000002200000022000000200000002000000020000000200000002000000020000000200000000000000000000000000000000000000000000000000000000
20000002200000022000000200000002000000020000000200000002000000020000000200000000000000000000000000000000000000000000000000000000
20000002200000022000000220000002000000020000000200000002000000020000000000000000000000000000000000000000000000000000000000000000
22222222222222222222222222222222022222220002222200000222000000020000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0203020302030203020302030203020302030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1213121312131213121312131213121312130000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
